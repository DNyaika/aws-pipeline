#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const pipeline_stack_1 = require("../lib/pipeline-stack");
const billing_stack_1 = require("../lib/billing-stack");
const service_stack_1 = require("../lib/service-stack");
const app = new cdk.App();
const pipelineStack = new pipeline_stack_1.PipelineStack(app, "PipelineStack", {});
new billing_stack_1.BillingStack(app, "BillingStack", {
    budgetAmount: 5,
    emailAddress: "davidnyaika2@gmail.com"
});
const serviceStackTest = new service_stack_1.ServiceStack(app, "ServiceStackTest", {
    stageName: 'Test',
});
const serviceStackProd = new service_stack_1.ServiceStack(app, "ServiceStackProd", {
    stageName: 'Prod',
});
const stageTest = pipelineStack.addServiceStage(serviceStackTest, 'Test');
pipelineStack.addServiceStage(serviceStackProd, 'Prod');
pipelineStack.addServiceIntegrationTestToStage(stageTest, serviceStackTest.serviceEndpointOutput.importValue);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGlwaWxpbmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJwaXBpbGluZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx1Q0FBcUM7QUFDckMsbUNBQW1DO0FBQ25DLDBEQUFzRDtBQUN0RCx3REFBb0Q7QUFDcEQsd0RBQW9EO0FBRXBELE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQzFCLE1BQU0sYUFBYSxHQUFDLElBQUksOEJBQWEsQ0FBQyxHQUFHLEVBQUUsZUFBZSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ2hFLElBQUksNEJBQVksQ0FBQyxHQUFHLEVBQUUsY0FBYyxFQUFFO0lBQ2xDLFlBQVksRUFBRSxDQUFDO0lBQ2YsWUFBWSxFQUFFLHdCQUF3QjtDQUN6QyxDQUFDLENBQUE7QUFFRixNQUFNLGdCQUFnQixHQUFHLElBQUksNEJBQVksQ0FBQyxHQUFHLEVBQUUsa0JBQWtCLEVBQUM7SUFDOUQsU0FBUyxFQUFFLE1BQU07Q0FDcEIsQ0FBQyxDQUFDO0FBRUgsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLDRCQUFZLENBQUMsR0FBRyxFQUFFLGtCQUFrQixFQUFDO0lBQzlELFNBQVMsRUFBRSxNQUFNO0NBQ3BCLENBQUMsQ0FBQztBQUVILE1BQU0sU0FBUyxHQUFHLGFBQWEsQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDMUUsYUFBYSxDQUFDLGVBQWUsQ0FBQyxnQkFBZ0IsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUN4RCxhQUFhLENBQUMsZ0NBQWdDLENBQUMsU0FBUyxFQUFFLGdCQUFnQixDQUFDLHFCQUFxQixDQUFDLFdBQVcsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiIyEvdXNyL2Jpbi9lbnYgbm9kZVxuaW1wb3J0ICdzb3VyY2UtbWFwLXN1cHBvcnQvcmVnaXN0ZXInO1xuaW1wb3J0ICogYXMgY2RrIGZyb20gJ2F3cy1jZGstbGliJztcbmltcG9ydCB7IFBpcGVsaW5lU3RhY2sgfSBmcm9tIFwiLi4vbGliL3BpcGVsaW5lLXN0YWNrXCI7XG5pbXBvcnQgeyBCaWxsaW5nU3RhY2sgfSBmcm9tIFwiLi4vbGliL2JpbGxpbmctc3RhY2tcIjtcbmltcG9ydCB7IFNlcnZpY2VTdGFjayB9IGZyb20gJy4uL2xpYi9zZXJ2aWNlLXN0YWNrJztcblxuY29uc3QgYXBwID0gbmV3IGNkay5BcHAoKTtcbmNvbnN0IHBpcGVsaW5lU3RhY2s9bmV3IFBpcGVsaW5lU3RhY2soYXBwLCBcIlBpcGVsaW5lU3RhY2tcIiwge30pO1xubmV3IEJpbGxpbmdTdGFjayhhcHAsIFwiQmlsbGluZ1N0YWNrXCIsIHtcbiAgICBidWRnZXRBbW91bnQ6IDUsXG4gICAgZW1haWxBZGRyZXNzOiBcImRhdmlkbnlhaWthMkBnbWFpbC5jb21cIlxufSlcblxuY29uc3Qgc2VydmljZVN0YWNrVGVzdCA9IG5ldyBTZXJ2aWNlU3RhY2soYXBwLCBcIlNlcnZpY2VTdGFja1Rlc3RcIix7XG4gICAgc3RhZ2VOYW1lOiAnVGVzdCcsXG59KTtcblxuY29uc3Qgc2VydmljZVN0YWNrUHJvZCA9IG5ldyBTZXJ2aWNlU3RhY2soYXBwLCBcIlNlcnZpY2VTdGFja1Byb2RcIix7XG4gICAgc3RhZ2VOYW1lOiAnUHJvZCcsXG59KTtcblxuY29uc3Qgc3RhZ2VUZXN0ID0gcGlwZWxpbmVTdGFjay5hZGRTZXJ2aWNlU3RhZ2Uoc2VydmljZVN0YWNrVGVzdCwgJ1Rlc3QnKTtcbnBpcGVsaW5lU3RhY2suYWRkU2VydmljZVN0YWdlKHNlcnZpY2VTdGFja1Byb2QsICdQcm9kJyk7XG5waXBlbGluZVN0YWNrLmFkZFNlcnZpY2VJbnRlZ3JhdGlvblRlc3RUb1N0YWdlKHN0YWdlVGVzdCwgc2VydmljZVN0YWNrVGVzdC5zZXJ2aWNlRW5kcG9pbnRPdXRwdXQuaW1wb3J0VmFsdWUpOyJdfQ==